{% extends "dashboard/base.html" %} {% block title %} Resumen Â· Calidad del Aire
{% endblock %} {% block content %}
<h1 class="mb-3">Resumen del dataset</h1>

{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %} {% if stats %}
<div class="row g-3 mb-4">
  {% for k, v in stats.items %}
  <div class="col-md-3">
    <div class="card">
      <div class="card-body">
        <div class="text-muted small">{{ k }}</div>
        <div class="h5 mb-0">{{ v }}</div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}

<div class="card">
  <div class="card-body">
    <h5 class="card-title">Tabla de datos (primeros 50)</h5>

    {% if table_rows %}
    <div class="table-responsive">
      <table class="table table-sm table-striped">
        <thead>
          <tr>
            {% for k, v in table_rows.0.items %}
            <th>{{ k }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in table_rows %}
          <tr>
            {% for k, v in row.items %}
            <td>{{ v }}</td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-muted m-0">No hay datos para mostrar.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
